<div data-controller="tabs" class="max-w-4xl mx-auto p-6 bg-white rounded-xl shadow-md space-y-6">

  <!-- Header -->
  <div class="flex justify-between items-center mb-4">
    <h1 class="text-2xl font-bold text-gray-900">
      Booking requests for <%= @listing.title %>
    </h1>
  </div>

  <!-- Tabs -->
  <div class="border-b border-gray-200">
    <nav class="-mb-px flex space-x-6" aria-label="Tabs">
      <button data-tabs-target="tab" data-action="tabs#change" data-tabs-name="pending"
        class="tab-button border-b-2 border-gray-600 text-gray-600 py-2 px-4 text-sm font-medium space-x-1">
        <span class="inline-flex items-center rounded-md bg-amber-100 px-1.5 py-0.5 text-xs font-medium text-amber-800"><%= @pending_bookings.count %></span>
        <span>Pending</span>
      </button>
      <button data-tabs-target="tab" data-action="tabs#change" data-tabs-name="confirmed"
         class="tab-button border-b-2 border-gray-600 text-gray-600 py-2 px-4 text-sm font-medium space-x-1">
        <span class="inline-flex items-center rounded-md bg-green-100 px-1.5 py-0.5 text-xs font-medium text-green-800"><%= @confirmed_bookings.count %></span>
        <span>Confirmed</span>
      </button>
      <button data-tabs-target="tab" data-action="tabs#change" data-tabs-name="denied"
        class="tab-button border-b-2 border-gray-600 text-gray-600 py-2 px-4 text-sm font-medium space-x-1">
        <span class="inline-flex items-center rounded-md bg-red-100 px-1.5 py-0.5 text-xs font-medium text-red-800"><%= @denied_bookings.count %></span>
        <span>Denied</span>
      </button>
    </nav>
  </div>

  <!-- Tab Contents -->
  <div class="mt-4 space-y-4">
    <div id="pending-bookings" data-tabs-target="content" data-tabs-name="pending" class="tab-pane">
      <% if @pending_bookings.any? %>
        <% @pending_bookings.each do |booking| %>
          <%= render partial: "booking", locals: { booking: booking } %>
        <% end %>
      <% else %>
        <p class="text-gray-500 text-sm">No pending bookings.</p>
      <% end %>
    </div>
    <div id="confirmed-bookings" data-tabs-target="content" data-tabs-name="confirmed" class="tab-pane hidden">
      <% if @confirmed_bookings.any? %>
        <% @confirmed_bookings.each do |booking| %>
          <%= render partial: "booking", locals: { booking: booking } %>
        <% end %>
      <% else %>
        <p class="text-gray-500 text-sm">No confirmed bookings.</p>
      <% end %>
    </div>
    <div id="denied-bookings" data-tabs-target="content" data-tabs-name="denied" class="tab-pane hidden">
      <% if @denied_bookings.any? %>
        <% @denied_bookings.each do |booking| %>
          <%= render partial: "booking", locals: { booking: booking } %>
        <% end %>
      <% else %>
        <p class="text-gray-500 text-sm">No denied bookings.</p>
      <% end %>
    </div>

  </div>
</div>
