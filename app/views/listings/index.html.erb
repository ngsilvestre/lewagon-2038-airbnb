<div class="container-full mx-auto p-4">
  <div class="grid grid-cols-3 gap-5">
    <div id="listings" class="col-span-2">
      <%= form_with url: listings_path, method: :get, class: "grid grid-cols-3 gap-3 my-3" do %>
        <%= text_field_tag :query,
              params[:query],
              class: "col-span-2 block w-full rounded-md bg-white px-3.5 py-2 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-rose-600",
              placeholder: "Search for places"
          %>
        <%= submit_tag "Search", name: "", class: "col-span1 block w-full rounded-md bg-rose-600 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-xs hover:bg-rose-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-600" %>
      <% end %>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-6">
        <% @listings.each do |listing| %>
          <%= render listing %>
        <% end %>
      </div>
    </div>
    <div style="width: 100%; height: calc(100vh - 150px);" class="col-span-1"
  data-controller="map"
  data-map-markers-value="<%= @markers.to_json %>"
  data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>

  </div>

</div>
<%# MAPS CONTAINER  %>
